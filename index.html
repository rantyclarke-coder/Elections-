<!DOCTYPE html>
<html>
<head>
  <title>US XXXX Elections</title>
</head>

<body style="background:black; color:white; text-align:center; font-family:Arial;">

  <h1>US XXXX ELECTIONS</h1>

  <div style="display:flex; justify-content:space-around; margin-top:30px;">

    <div>
      <img src="https://via.placeholder.com/200" />
      <h2>BRIXTON</h2>
      <h1 id="brixtonVotes">0</h1>
    </div>

    <div>
      <img src="https://via.placeholder.com/200" />
      <h2>MCKINLEY</h2>
      <h1 id="mckinleyVotes">0</h1>
    </div>

  </div>

  <div style="margin-top:40px;">
    <div style="width:80%; margin:auto; height:10px; background:#444;"></div>
    <p>538 TOTAL â€” 270 TO WIN</p>
  </div>

  <div style="margin-top:40px; width:90%; margin:auto;">
    <object id="map" data="us.svg" type="image/svg+xml" style="width:100%;"></object>
  </div>

<script>
const states = {
  CA: { votes: 54, owner: null },
  TX: { votes: 40, owner: null },
  NY: { votes: 28, owner: null }
};

function updateTotals() {
  let b = 0, m = 0;
  for (let s in states) {
    if (states[s].owner === "B") b += states[s].votes;
    if (states[s].owner === "M") m += states[s].votes;
  }
  document.getElementById("brixtonVotes").innerText = b;
  document.getElementById("mckinleyVotes").innerText = m;
}

document.getElementById("map").addEventListener("load", () => {
  const svg = document.getElementById("map").contentDocument;

  for (let id in states) {
    const state = svg.getElementById(id);
    if (!state) continue;

    state.style.fill = "#555";
    state.style.cursor = "pointer";

    state.onclick = () => {
      if (states[id].owner === null) {
        states[id].owner = "B";
        state.style.fill = "blue";
      } else if (states[id].owner === "B") {
        states[id].owner = "M";
        state.style.fill = "red";
      } else {
        states[id].owner = null;
        state.style.fill = "#555";
      }
      updateTotals();
    };
  }
});
</script>

</body>
</html></html>
